<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Bunga Anuitas</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen">

  <div class="container mx-auto bg-white p-8 shadow-md rounded-lg max-w">
    <h2 class="text-2xl font-bold mb-4 text-center">Kalkulator Anuitas</h2>

    <form id="anuitasForm" class="space-y-4">
        <div>
            <label for="M_anuitas" class="block text-sm font-medium">Jumlah Pinjaman (M):</label>
            <input type="number" id="M_anuitas" required class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <div>
            <label for="b_anuitas" class="block text-sm font-medium">Suku Bunga (%) :</label>
            <input type="number" id="b_anuitas" step="0.01" required class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <div>
            <label for="A_anuitas" class="block text-sm font-medium">Anuitas (A):</label>
            <input type="number" id="A_anuitas" required class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <div>
            <label for="periode_anuitas" class="block text-sm font-medium">Jumlah Periode:</label>
            <input type="number" id="periode_anuitas" required class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <button type="button" onclick="hitungAnuitas()" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700">
            Hitung Anuitas
        </button>
    </form>

    <h3 class="text-xl font-bold mt-8 mb-4 text-center">Hasil Perhitungan Anuitas</h3>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white text-center border border-gray-300">
          <thead>
              <tr class="bg-blue-500 text-white">
                  <th class="py-2 px-4 border-b">Periode Ke</th>
                  <th class="py-2 px-4 border-b">Pinjaman Awal (M)</th>
                  <th class="py-2 px-4 border-b">Bunga (B)</th>
                  <th class="py-2 px-4 border-b">Angsuran (a)</th>
                  <th class="py-2 px-4 border-b">Sisa Pinjaman (S)</th>
              </tr>
          </thead>
          <tbody id="tabelAnuitas">
              <!-- Hasil perhitungan akan ditampilkan di sini -->
          </tbody>
      </table>
    </div>
  </div>

  <script>
    function hitungAnuitas() {
        const M = parseFloat(document.getElementById('M_anuitas').value);
        const b = parseFloat(document.getElementById('b_anuitas').value) / 100;
        const A = parseFloat(document.getElementById('A_anuitas').value);
        const n = parseInt(document.getElementById('periode_anuitas').value);

        let sisaPinjaman = M;
        const tbody = document.querySelector('#tabelAnuitas');
        tbody.innerHTML = ''; // Bersihkan tabel sebelum mengisi

        for (let i = 1; i <= n; i++) {
            const bunga = sisaPinjaman * b;
            const angsuran = A - bunga;
            sisaPinjaman -= angsuran;

            const row = `
                <tr>
                    <td class="py-2 px-4 border-b">${i}</td>
                    <td class="py-2 px-4 border-b">Rp ${M.toFixed(2)}</td>
                    <td class="py-2 px-4 border-b">Rp ${bunga.toFixed(2)}</td>
                    <td class="py-2 px-4 border-b">Rp ${angsuran.toFixed(2)}</td>
                    <td class="py-2 px-4 border-b">Rp ${sisaPinjaman.toFixed(2)}</td>
                </tr>
            `;
            tbody.innerHTML += row;
        }
    }
  </script>

</body>
</html>
